<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/infra/gcp-oracle">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Google Cloud Oracle | Switchboard</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.switchboard.xyz/img/documentation_card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.switchboard.xyz/img/documentation_card.jpg"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/guides/infra/gcp-oracle"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Google Cloud Oracle | Switchboard"><meta data-rh="true" name="description" content="Learn how to create and manage a Switchboard NodeJS oracle in Google Cloud Platform (GCP)."><meta data-rh="true" property="og:description" content="Learn how to create and manage a Switchboard NodeJS oracle in Google Cloud Platform (GCP)."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/guides/infra/gcp-oracle"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/guides/infra/gcp-oracle" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/guides/infra/gcp-oracle" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XO84KDTPTB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Switchboard RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Switchboard Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Switchboard" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.ecaa6708.css">
<link rel="preload" href="/assets/js/runtime~main.1a2db683.js" as="script">
<link rel="preload" href="/assets/js/main.7f7f510b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_JVTn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_Lc2C themedImage--light_OfHa" height="72" width="72"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_Lc2C themedImage--dark_aTa8" height="72" width="72"></div><b class="navbar__title text--truncate">Switchboard</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/about">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><div class="searchBox_aK9v"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_icon__github" aria-label="GitHub repository"></a><a href="https://twitter.com/switchboardxyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_icon__twitter" aria-label="Twitter Link"></a><div class="toggle__fwT colorModeToggle_w9SD"><button class="clean-btn toggleButton_GPw6 toggleButtonDisabled_MbkH" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_IQ0H"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_XPgo"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_pt1U docsWrapper_x4Rk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_yVT7" type="button"></button><div class="docPage_PuDF"><aside class="theme-doc-sidebar-container docSidebarContainer_WH5D"><div class="sidebarViewport_SH6O"><div class="sidebar_izeK"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_NUe_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar__heading-label">About</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/about">Switchboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/network">The Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/data-models">The Data Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/oracle-program">The Oracle Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/attestation-program">The Attestation Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/what-can-i-build">What Can I Build?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-separator"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar__heading-label">Products</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/functions">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/secrets">Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/data-feeds">Data Feeds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/randomness">Randomness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-separator"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><div class="sidebar__heading-label">Integrate</div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item tight-sidebar"><a class="menu__link" href="/guides">Integration Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/guides/feeds/best-practices">General Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/feeds/best-practices">Data Feed Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/infra/gcp-oracle">Google Cloud Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/infra/nodejs-oracle">Local NodeJS Oracle</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-separator"></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/solana">Solana</a><button aria-label="Toggle the collapsible sidebar category &#x27;Solana&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/evm">EVM</a><button aria-label="Toggle the collapsible sidebar category &#x27;EVM&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aptos">Aptos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Aptos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/near">NEAR</a><button aria-label="Toggle the collapsible sidebar category &#x27;NEAR&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sui">Sui</a><button aria-label="Toggle the collapsible sidebar category &#x27;Sui&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_pB8r"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_74nU"><div class="docItemContainer_rMDH"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_GQIx" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_LKiY"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">General Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Google Cloud Oracle</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_HO6K theme-doc-toc-mobile tocMobile_lc9y"><button type="button" class="clean-btn tocCollapsibleButton_Tbsf">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Google Cloud Oracle</h1></header><p>Before deploying the application, you must first provision a kubernetes cluster
with the relevant credentials. There are no exotic requirements for this cluster
and to date, it has been able to run on an auto pilot GKE cluster without issue.</p><p>A Switchboard oracle can be run on any cloud provider who offers kubernetes
services but this guide will currently be focused on Google Cloud. Feel free to
contribute to our documentation if you are running an oracle on another
provider. Here&#x27;s some extra reading to learn more about kubernetes:</p><ul><li><a href="https://cloud.google.com/learn/what-is-kubernetes" target="_blank" rel="noopener noreferrer">What is Kubernetes?</a></li><li><a href="https://cloud.google.com/kubernetes-engine/docs/quickstart" target="_blank" rel="noopener noreferrer">Kubernetes Engine Quickstart</a></li></ul><h2 class="anchor anchorWithStickyNavbar_WPED" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2><h3 class="anchor anchorWithStickyNavbar_WPED" id="switchboard-helm-charts">Switchboard Helm Charts<a href="#switchboard-helm-charts" class="hash-link" aria-label="Direct link to Switchboard Helm Charts" title="Direct link to Switchboard Helm Charts">​</a></h3><p>The repo below contains the kubernetes manifest to streamline the deployment.
Clone the repo below to get started:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token function" style="color:rgb(250, 208, 0)">git</span><span class="token plain"> clone https://github.com/switchboard-xyz/helm-manifests sbv2-helm-manifests</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">cd</span><span class="token plain"> sbv2-helm-manifests</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_WPED" id="gcloud-sdk">gcloud SDK<a href="#gcloud-sdk" class="hash-link" aria-label="Direct link to gcloud SDK" title="Direct link to gcloud SDK">​</a></h3><p>You will need to install the google cloud SDK and have a Google Cloud Platform
account</p><ul><li><a href="https://cloud.google.com/sdk/docs/install" target="_blank" rel="noopener noreferrer">Install gcloud SDK</a></li><li><a href="https://console.cloud.google.com/freetrial/signup/tos" target="_blank" rel="noopener noreferrer">Google Cloud Platform Registration</a></li></ul><p>Verify it installed correctly with the following command:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud </span><span class="token parameter variable" style="color:rgb(255, 238, 128)">--version</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_WPED" id="grafana-domain-name">Grafana Domain Name<a href="#grafana-domain-name" class="hash-link" aria-label="Direct link to Grafana Domain Name" title="Direct link to Grafana Domain Name">​</a></h3><p>You will need a domain name to point your grafana instance at to monitor your
oracle&#x27;s metrics. During setup, you will create an external IP, which you will
need to add to your domains DNS records. Finally we will provision a TLS
certificate for your domain for enhanced security.</p><h2 class="anchor anchorWithStickyNavbar_WPED" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">​</a></h2><p>You will need to collect the following environment variables to inject into the
helm charts before deploying to Google Cloud Project. If you chose to use the
automated deployment, an env file will be populated with most of these variables
populated.</p><details class="details_yJ50 alert alert--info details_sxOL" data-collapsed="true"><summary><b>GCP Environment Variables</b></summary><div><div class="collapsibleContent_Du7l"><table><thead><tr><th>Env Variable</th><th>Definition</th></tr></thead><tbody><tr><td>CLUSTER</td><td><b><u>Required</u></b><br><b>Type</b> - String (devnet / mainnet-beta)<br><b>Description</b> - Solana cluster you will be running an oracle on (mainnet-beta/devnet)</td></tr><tr><td>RPC_URL</td><td><b><u>Required</u></b><br><b>Type</b> - URL<br><b>Description</b> - Solana RPC URL that must be capable of supporting websockets. The default RPC pools should be avoided at all cost as you will quickly hit the rate limits and risk being slashed</td></tr><tr><td>WS_URL</td><td><b><u>Optional</u></b><br><b>Type</b> - URL<br><b>Default</b> - RPC_URL<br><b>Description</b> - Websocket URL to connect to a Solana RPC server. If not provided, oracle will fallback to RPC_URL</td></tr><tr><td>BACKUP_MAINNET_RPC</td><td><b><u>Optional</u></b><br><b>Type</b> - URL<br><b>Default</b> - https://api.mainnet-beta.solana.com<br><b>Description</b> - Backup RPC URL in case of network congestion</td></tr><tr><td>ORACLE_KEY</td><td><b><u>Required</u></b><br><b>Type</b> - Public Key<br><b>Description</b> - Public key of the oracle account that has been granted permissions to use an oracle queue <br></td></tr><tr><td>HEARTBEAT_INTERVAL</td><td><b><u>Optional</u></b><br><b>Type</b> - Number (seconds)<br><b>Default</b> - 15<br><b>Description</b> - Seconds between oracle heartbeats. Queues have different oracle heartbeat requirements. Recommended value is 15</td></tr><tr><td>SERVICE_ACCOUNT_BASE64</td><td><b><u>Required</u></b><br><b>Type</b> - Base64 encoded JSON file<br><b>Description</b> - Base64 encoded JSON file containing the private key for your service account that has access to your google secret keypair and config bucket</td></tr><tr><td>GOOGLE_PAYER_SECRET_PATH</td><td><b><u>Required</u></b><br><b>Type</b> - GCP Resource Path<br><b>Description</b> - Google cloud resource to manage your keypair securely.</td></tr><tr><td>GCP_CONFIG_BUCKET</td><td><b><u>Optional</u></b><br><b>Type</b> - GCP Resource Path<br><b>Default</b> - oracle-configs:configs.json<br><b>Description</b> - Contains API keys for private API endpoints</td></tr><tr><td>EXTERNAL_IP</td><td><b><u>Required</u></b><br><b>Type</b> - IPv4 Address<br><b>Description</b> - IP Address where your grafana instance will be hosted to view metrics and oracle operating status</td></tr><tr><td>GRAFANA_HOSTNAME</td><td><b><u>Required</u></b><br><b>Type</b> - Fully Qualified Domain Name<br><b>Description</b> - Hostname where your grafana instance will point to</td></tr><tr><td>GRAFANA_ADMIN_PASSWORD</td><td><b><u>Optional</u></b><br><b>Type</b> - String / Password<br><b>Default</b> - Sbv2K8sPassword123@<br><b>Description</b> - Password to admin account that allows access to your grafana instance. You can set this to whatever value you want.<br></td></tr><tr><td>GRAFANA_TLS_CRT</td><td><b><u>Required</u></b><br><b>Type</b> - Base64 encoded CRT file<br><b>Description</b> - Base64 encoded string of your TLS certificate to secure your grafana instance</td></tr><tr><td>GRAFANA_TLS_KEY</td><td><b><u>Required</u></b><br><b>Type</b> - Base64 encoded private key file<br><b>Description</b> - Base64 encoded string of the private key used to create your TLS certificate</td></tr></tbody></table></div></div></details><h2 class="anchor anchorWithStickyNavbar_WPED" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h2><p>The
<a href="https://github.com/switchboard-xyz/helm-manifests" target="_blank" rel="noopener noreferrer">switchboard-xyz/helm-manifests</a>
repo contains a bash script to walk through the GCP setup and output the
required variables to an env file. This script is provided as a convenience
tool, you should understand all of the commands in the script before running. To
automate the GCP setup, run the following command:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">./setup-gcloud.sh PROJECTNAME</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># ./setup-gcloud.sh Sbv2-Devnet-Oracle</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>PROJECTNAME</code> will be the name of your GCP project and must contain no spaces
or special characters</li></ul><p>The script will walk through the google cloud setup, create your gcp project,
add your oracle keypair as a secret, create a service account and give it access
to your keypair, then spin up a kubernetes cluster. The script will periodically
prompt you for more information.</p><p>Upon completion you will have a file <code>PROJECTNAME.env</code> containing:</p><ul><li>PROJECT</li><li>DEFAULT_REGION</li><li>DEFAULT_ZONE</li><li>CLUSTER_NAME</li><li>EXTERNAL_IP</li><li>SECRET_NAME</li><li>GOOGLE_PAYER_SECRET_PATH</li><li>GCP_CONFIG_BUCKET</li><li>SERVICE_ACCOUNT_EMAIL</li><li>SERVICE_ACCOUNT_BASE64</li></ul><p>You will need to manually add:</p><ul><li>CLUSTER</li><li>RPC_URL</li><li>BACKUP_MAINNET_RPC</li><li>ORACLE_KEY</li><li>GRAFANA_HOSTNAME</li><li>GRAFANA_ADMIN_PASSWORD</li><li>GRAFANA_TLS_CRT</li><li>GRAFANA_TLS_KEY</li></ul><details class="details_yJ50 alert alert--info details_sxOL" data-collapsed="true"><summary><b>Manual GCP Setup Steps</b></summary><div><div class="collapsibleContent_Du7l"><b>Login</b><p>Login to your google cloud account:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud auth login</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><b>Project</b><p>Create a new project</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud projects create switchboard-oracle-cluster </span><span class="token parameter variable" style="color:rgb(255, 238, 128)">--name</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&quot;Switchboard Oracle&quot;</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Set it as your default project</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud config </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">set</span><span class="token plain"> project switchboard-oracle-cluster</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cloud.google.com/sdk/gcloud/reference/projects/create" target="_blank" rel="noopener noreferrer">Google - gcloud projects create</a></p><b>gCloud Config</b><p>Set the default zone using
<a href="https://cloud.google.com/compute/docs/regions-zones#available" target="_blank" rel="noopener noreferrer">list of regions and zones</a></p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud config </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">set</span><span class="token plain"> compute/zone us-west1-a </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># replace with your closest region</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Set the default region using
<a href="https://cloud.google.com/compute/docs/regions-zones#available" target="_blank" rel="noopener noreferrer">list of regions and zones</a></p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud config </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">set</span><span class="token plain"> compute/region us-west1 </span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># replace with your closest region</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cloud.google.com/kubernetes-engine/docs/quickstart#autopilot" target="_blank" rel="noopener noreferrer">Google - Set default settings for the gcloud tool</a></p><b>Billing</b><p>You will need to enable billing for the project before enabling any services:</p><ul><li><a href="https://console.cloud.google.com/billing/enable?project=switchboard-oracle-cluster" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com/billing/enable?project=switchboard-oracle-cluster</a></li></ul><p><a href="https://support.google.com/googleapi/answer/6158867?hl=en" target="_blank" rel="noopener noreferrer">Google - APIs and billing</a></p><b>Services</b><p>Enable the relevant services:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud services </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">enable</span><span class="token plain"> compute.googleapis.com</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud services </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">enable</span><span class="token plain"> container.googleapis.com</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud services </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">enable</span><span class="token plain"> iamcredentials.googleapis.com</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud services </span><span class="token builtin class-name" style="color:rgb(250, 208, 0)">enable</span><span class="token plain"> secretmanager.googleapis.com</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><b>External IP</b><p>You will need to reserve a static IP address for your grafana instance</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud compute addresses create load-balancer </span><span class="token parameter variable" style="color:rgb(255, 238, 128)">--project</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain">switchboard-oracle-cluster</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud compute addresses list</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># NAME           ADDRESS/RANGE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># load-balancer  123.123.123.123 ($LOADBALANCER_IP)</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will be your <code>$EXTERNAL_IP</code></p><p><a href="https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address#reserve_new_static" target="_blank" rel="noopener noreferrer">Google - Reserve a new static external IP address</a></p><b>Service Account</b><p>You will need to create a service account to access our resources.</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud iam service-accounts create svc-account --display-name</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&quot;Oracle Service Account&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud iam service-accounts list</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now save it to our filesystem</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud iam service-accounts keys create secrets/svc-account.json  --iam-account</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain">svc-account@switchboard-oracle-cluster.iam.gserviceaccount.com</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now convert the json file to a base64 string to store in
<code>$SERVICE_ACCOUNT_BASE64</code></p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">base64 secrets/svc-account.json</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cloud.google.com/iam/docs/creating-managing-service-account-keys" target="_blank" rel="noopener noreferrer">Google - Creating service account keys</a></p><b>OraclePayerSecret</b><p>You will need to store your solana keypair in Google Secret Manager for enhanced
security. If you are using another keypair replace <code>--data-file</code> with your
relevant path.</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud secrets create oracle-payer-secret --replication-policy</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token string" style="color:rgb(165, 255, 144)">&quot;automatic&quot;</span><span class="token plain">  --data-file</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain">secrets/authority-keypair.json</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can view your <code>$GOOGLE_PAYER_SECRET_PATH</code> in the
<a href="https://console.cloud.google.com/security/secret-manager/secret/oracle-payer-secret/versions&amp;project=switchboard-oracle-cluster" target="_blank" rel="noopener noreferrer">GCP console</a>
or by running the command</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token builtin class-name" style="color:rgb(250, 208, 0)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;</span><span class="token string variable" style="color:rgb(255, 238, 128)">$(</span><span class="token string variable" style="color:rgb(255, 238, 128)">gcloud secrets list </span><span class="token string variable parameter variable" style="color:rgb(255, 238, 128)">--uri</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable parameter variable" style="color:rgb(255, 238, 128)">--filter</span><span class="token string variable operator" style="color:rgb(255, 157, 0)">=</span><span class="token string variable" style="color:rgb(255, 238, 128)">oracle-payer-secret </span><span class="token string variable operator" style="color:rgb(255, 157, 0)">|</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable punctuation" style="color:rgb(255, 255, 255)">\</span><span class="token string variable" style="color:rgb(255, 238, 128)"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token string variable" style="color:rgb(255, 238, 128)"></span><span class="token string variable function" style="color:rgb(250, 208, 0)">cut</span><span class="token string variable" style="color:rgb(255, 238, 128)"> -c41- </span><span class="token string variable operator" style="color:rgb(255, 157, 0)">|</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable function" style="color:rgb(250, 208, 0)">tr</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable parameter variable" style="color:rgb(255, 238, 128)">-d</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable string" style="color:rgb(165, 255, 144)">&#x27;\n&#x27;</span><span class="token string variable" style="color:rgb(255, 238, 128)">)</span><span class="token string" style="color:rgb(165, 255, 144)">/versions/latest&quot;</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cloud.google.com/secret-manager/docs/creating-and-accessing-secrets" target="_blank" rel="noopener noreferrer">Google - Creating a secret</a></p><b>Storage Bucket</b><p>You can create a GCP storage bucket to store API keys. The following command
will create a new storage bucket and give your service account permissions to
read from it. You will need to use a unique name as storage bucket names are
global to the entire GCP platform.</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gsutil mb </span><span class="token parameter variable" style="color:rgb(255, 238, 128)">-p</span><span class="token plain"> switchboard-oracle-cluster </span><span class="token parameter variable" style="color:rgb(255, 238, 128)">-l</span><span class="token plain"> us-west1 gs://switchboard-oracle-cluster-bucket</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gsutil iam ch serviceAccount:svc-account@switchboard-oracle-cluster.iam.gserviceaccount.com:legacyBucketReader gs://switchboard-oracle-cluster-bucket</span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">gsutil </span><span class="token function" style="color:rgb(250, 208, 0)">ls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># gs://switchboard-oracle-cluster-bucket/</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can view your <code>$GCP_CONFIG_BUCKET</code> by running the command</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token builtin class-name" style="color:rgb(250, 208, 0)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(165, 255, 144)">&quot;</span><span class="token string variable" style="color:rgb(255, 238, 128)">$(</span><span class="token string variable" style="color:rgb(255, 238, 128)">gsutil </span><span class="token string variable function" style="color:rgb(250, 208, 0)">ls</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable operator" style="color:rgb(255, 157, 0)">|</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable function" style="color:rgb(250, 208, 0)">grep</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable string" style="color:rgb(165, 255, 144)">&#x27;switchboard-oracle-cluster-bucket&#x27;</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable operator" style="color:rgb(255, 157, 0)">|</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable punctuation" style="color:rgb(255, 255, 255)">\</span><span class="token string variable" style="color:rgb(255, 238, 128)"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token string variable" style="color:rgb(255, 238, 128)"></span><span class="token string variable function" style="color:rgb(250, 208, 0)">sed</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable parameter variable" style="color:rgb(255, 238, 128)">-e</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable string" style="color:rgb(165, 255, 144)">&#x27;s/.*gs:\/\/\(.*\)\/.*/\1/&#x27;</span><span class="token string variable" style="color:rgb(255, 238, 128)"> </span><span class="token string variable" style="color:rgb(255, 238, 128)">)</span><span class="token string" style="color:rgb(165, 255, 144)">:configs.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token comment" style="color:rgb(179, 98, 255);font-style:italic"># switchboard-oracle-cluster-bucket:configs.json</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cloud.google.com/storage/docs/creating-buckets#storage-create-bucket-gsutil" target="_blank" rel="noopener noreferrer">Google - Create storage buckets</a></p><b>Kubernetes Cluster</b><p>Finally you will need to create a new kubernetes cluster</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud container clusters create-auto switchboard-cluster </span><span class="token punctuation" style="color:rgb(255, 255, 255)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain">--service-account</span><span class="token operator" style="color:rgb(255, 157, 0)">=</span><span class="token plain">svc-account@switchboard-oracle-cluster.iam.gserviceaccount.com </span><span class="token punctuation" style="color:rgb(255, 255, 255)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(255, 238, 128)">--region</span><span class="token plain"> us-west1</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>then connect to it and store your credentials in your gCloud config</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">gcloud container clusters get-credentials switchboard-cluster </span><span class="token punctuation" style="color:rgb(255, 255, 255)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(255, 238, 128)">--project</span><span class="token plain"> switchboard-oracle-cluster </span><span class="token punctuation" style="color:rgb(255, 255, 255)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9EFEFF"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(255, 238, 128)">--region</span><span class="token plain"> us-west1</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_tQTv"><div class="admonitionHeading_gXPm"><span class="admonitionIcon_Rtl4"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vKKW"><p>Remember to update the region to the same region you used for your static IP.</p></div></div><p><a href="https://cloud.google.com/kubernetes-engine/docs/quickstart#autopilot" target="_blank" rel="noopener noreferrer">Google - Create a GKE cluster</a></p><b>Wrapping Up</b><p>You should now have an <code>PROJECTNAME.env</code> file containing</p><ul><li>EXTERNAL_IP</li><li>GOOGLE_PAYER_SECRET_PATH</li><li>GCP_CONFIG_BUCKET</li><li>SERVICE_ACCOUNT_BASE64</li></ul><p>You will need to manually add:</p><ul><li>CLUSTER</li><li>RPC_URL</li><li>BACKUP_MAINNET_RPC</li><li>ORACLE_KEY</li><li>GRAFANA_HOSTNAME</li><li>GRAFANA_ADMIN_PASSWORD</li><li>GRAFANA_TLS_CRT</li><li>GRAFANA_TLS_KEY</li></ul></div></div></details><h2 class="anchor anchorWithStickyNavbar_WPED" id="grafana">Grafana<a href="#grafana" class="hash-link" aria-label="Direct link to Grafana" title="Direct link to Grafana">​</a></h2><p>Grafana is a visualization tool to view your cluster&#x27;s metrics. While this step
is optional, it is recommended if you have no other monitoring or metric suite
in place.</p><h3 class="anchor anchorWithStickyNavbar_WPED" id="domain-name">Domain Name<a href="#domain-name" class="hash-link" aria-label="Direct link to Domain Name" title="Direct link to Domain Name">​</a></h3><p>You will need a domain name to host your grafana instance. In your domain
management tool, add a DNS A record with a value of <code>$EXTERNAL_IP</code>.</p><p>This value will be your <code>$GRAFANA_HOSTNAME</code> (i.e. grafana.switchboard.com) and
will be used to provision a TLS certificate.</p><h3 class="anchor anchorWithStickyNavbar_WPED" id="tls-certificate">TLS Certificate<a href="#tls-certificate" class="hash-link" aria-label="Direct link to TLS Certificate" title="Direct link to TLS Certificate">​</a></h3><p>The following steps will walk you through provisioning a TLS certificate for
your domain from letsencrypt. The
<a href="https://github.com/switchboard-xyz/helm-manifests" target="_blank" rel="noopener noreferrer">helm-manifest repo</a> contains
a script to walk through creating the necessary keys and certificate signing
request (CSR).</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">./setup-grafana.sh PROJECTNAME DOMAIN EMAIL</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>PROJECTNAME is the name of the env file to store variables</li><li>DOMAIN is your $GRAFANA_HOSTNAME from above</li><li>EMAIL is the email you will use for your certificate signing request</li></ul><p>When the necessary keys and CSR are generated, head over to
<a href="https://gethttpsforfree.com.com" target="_blank" rel="noopener noreferrer">gethttpsforfree.com</a> and walk through their
steps to sign your certificate. Save the final output to the filename given by
the script, then rerun the script. The script will save the env variables to
<code>PROJECTNAME.env</code> and also output them to the console.</p><p>Your <code>PROJECTNAME.env</code> file should now contain</p><ul><li>GRAFANA_HOSTNAME</li><li>GRAFANA_ADMIN_PASSWORD (You can set this to whatever value you want)</li><li>GRAFANA_TLS_CRT</li><li>GRAFANA_TLS_KEY</li></ul><h2 class="anchor anchorWithStickyNavbar_WPED" id="deploy">Deploy<a href="#deploy" class="hash-link" aria-label="Direct link to Deploy" title="Direct link to Deploy">​</a></h2><p>After completing the steps on this page you should have a <code>PROJECTNAME.env</code> file
with each of the required variables defined. See
<a href="#environment">Google Cloud / Environment</a> for a list of all required variables
that must be set.</p><p>Run the following command to build the helm charts with your environment
variables injected into the manifests:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">./build-helm.sh PROJECTNAME</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_WPED" id="deploy-helm-charts">Deploy Helm Charts<a href="#deploy-helm-charts" class="hash-link" aria-label="Direct link to Deploy Helm Charts" title="Direct link to Deploy Helm Charts">​</a></h3><p>Run the command</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">./deploy-helm.sh PROJECTNAME</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When complete, you should see your cluster running in the Google Cloud Console.</p><p><a href="https://cloud.google.com/stackdriver/docs/solutions/gke/observing" target="_blank" rel="noopener noreferrer">Google - Observing your GKE clusters</a></p><h3 class="anchor anchorWithStickyNavbar_WPED" id="update">Update<a href="#update" class="hash-link" aria-label="Direct link to Update" title="Direct link to Update">​</a></h3><p>If necessary, rebuild the charts to update any environment variables:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">./build-helm.sh PROJECTNAME</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>then redeploy the helm charts:</p><div class="language-bash codeBlockContainer_yod3 theme-code-block" style="--prism-color:#9EFEFF;--prism-background-color:#2D2A55"><div class="codeBlockContent_n8s3"><pre tabindex="0" class="prism-code language-bash codeBlock_DVCl thin-scrollbar"><code class="codeBlockLines_jZKX"><span class="token-line" style="color:#9EFEFF"><span class="token plain">./deploy-helm.sh PROJECTNAME</span><br></span></code></pre><div class="buttonGroup_XkFZ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_seSL" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dEc5"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_vPe9"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/feeds/best-practices"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Feed Best Practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guides/infra/nodejs-oracle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Local NodeJS Oracle</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_W_pa thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a><ul><li><a href="#switchboard-helm-charts" class="table-of-contents__link toc-highlight">Switchboard Helm Charts</a></li><li><a href="#gcloud-sdk" class="table-of-contents__link toc-highlight">gcloud SDK</a></li><li><a href="#grafana-domain-name" class="table-of-contents__link toc-highlight">Grafana Domain Name</a></li></ul></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#grafana" class="table-of-contents__link toc-highlight">Grafana</a><ul><li><a href="#domain-name" class="table-of-contents__link toc-highlight">Domain Name</a></li><li><a href="#tls-certificate" class="table-of-contents__link toc-highlight">TLS Certificate</a></li></ul></li><li><a href="#deploy" class="table-of-contents__link toc-highlight">Deploy</a><ul><li><a href="#deploy-helm-charts" class="table-of-contents__link toc-highlight">Deploy Helm Charts</a></li><li><a href="#update" class="table-of-contents__link toc-highlight">Update</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.1a2db683.js"></script>
<script src="/assets/js/main.7f7f510b.js"></script>
</body>
</html>