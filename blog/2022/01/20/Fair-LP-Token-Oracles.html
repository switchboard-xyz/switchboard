<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Fair LP Token Oracles | Switchboard</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.switchboard.xyz/img/documentation_card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.switchboard.xyz/img/documentation_card.jpg"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/blog/2022/01/20/Fair-LP-Token-Oracles"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Fair LP Token Oracles | Switchboard"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-01-20T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://twitter.com/gallynaut"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/blog/2022/01/20/Fair-LP-Token-Oracles"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/blog/2022/01/20/Fair-LP-Token-Oracles" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/blog/2022/01/20/Fair-LP-Token-Oracles" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XO84KDTPTB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Switchboard RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Switchboard Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Switchboard" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.63362a7a.css">
<link rel="preload" href="/assets/js/runtime~main.85fbabb3.js" as="script">
<link rel="preload" href="/assets/js/main.df7f9c98.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_yzxH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_iiVx themedImage--light_rFMV" height="72" width="72"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_iiVx themedImage--dark_SaTe" height="72" width="72"></div><b class="navbar__title text--truncate">Switchboard</b></a><a class="navbar__item navbar__link" href="/about">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><div class="searchBox_aTcI"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_icon__github" aria-label="GitHub repository"></a><a href="https://twitter.com/switchboardxyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar_icon__twitter" aria-label="Twitter Link"></a><div class="toggle_VBYi colorModeToggle_ZPBD"><button class="clean-btn toggleButton_NXMR toggleButtonDisabled_Lyab" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_XFIB"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_JTM9"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_Fn2L"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_vwz3 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_Rvql margin-bottom--md">All posts</div><ul class="sidebarItemList_jqku clean-list"><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/05/03/Switchboard-Oracle-on-Sui-Mainnet">Switchboard Oracle on Sui Mainnet</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/04/19/Introduction-to-Switchboard-Serverless">Introduction to Switchboard Serverless</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/04/06/Dialed-in-with-Switchboard">Dialed in with Switchboard: April 06, 2023</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/03/30/Switchboard-v3">Switchboard v3</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/02/23/Switchboard-Oracle-on-Core-Mainnet-Alpha">Switchboard Oracle on Core Mainnet Alpha</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/02/02/PluggedintoStarkNet">#PluggedintoStarkNet</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2023/01/26/PluggedintoCore">#PluggedintoCore</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/12/31/Switchboard-Wrap-Up-2022">Switchboard Wrap Up 2022</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/12/26/Data-Feed-Priority-Fees-and-Sliding-Window-on-Solana">Data Feed Priority Fees and Sliding Window on Solana</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/12/06/Building-and-Managing-Data-Feeds-through-Multisig-Soltuions">Building and Managing Data Feeds through Multisig Soltuions</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/11/01/PluggedintoSui">#PluggedintoSui</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/10/26/Switchboard-Oracle-on-NEAR-Mainnet-Alpha">Switchboard Oracle on Near Mainnet Alpha</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/10/18/Switchboard-Oracle-on-Aptos-Mainnet">Switchboard Oracle on Aptos Mainnet</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/09/13/PluggedintoNEAR">#PluggedintoNEAR</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/09/01/PluggedintoAptos">#PluggedintoAptos</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/08/29/Switchboard-360-Looking-Back-Forward-and-All-Around">Switchboard 360: Looking Back, Forward and All Around</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/08/04/Data-Feed-Best-Practices">Data Feed Best Practices</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/07/13/Verifiable-Randomness-on-Solana">Verifiable Randomness (VRF) on Solana</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/06/22/Switchboard-Publisher">Switchboard Publisher</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/05/23/Dialed-in-with-Switchboard">Dialed in with Switchboard: May 23, 2022</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/04/18/Dialed-in-with-Switchboard">Dialed in with Switchboard: April 18, 2022</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/03/14/Dialed-in-with-Switchboard">Dialed in with Switchboard: March 14, 2022</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/03/07/Dialed-in-with-Switchboard">Dialed in with Switchboard: March 07, 2022</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/02/25/Switchboard-Riptide-Prizes-Announcement">Switchboard x Riptide Prizes Announcement</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/02/23/Using-Switchboard-Creating-Custom-Data-Feeds">Using Switchboard: Creating Custom Data Feeds</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/02/07/Switchboard-Introduces-TWAP-Support">Switchboard Introduces TWAP Support</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2022/01/27/Switchboard-V2-is-LIVE">Switchboard V2 is LIVE!</a></li><li class="sidebarItem_QgSO"><a aria-current="page" class="sidebarItemLink_mxj2 sidebarItemLinkActive_BMv6" href="/blog/2022/01/20/Fair-LP-Token-Oracles">Fair LP Token Oracles</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/11/03/Switchboard-V2-Incentives">Switchboard V2 (pt.3) — Incentives</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/10/12/Switchboard-V2-Architecture-and-Data-Flows">Switchboard V2 (pt.2) — Architecture and Data Flows</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/10/04/Switchboard-x-GRAPE-Network">Switchboard x GRAPE Network</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/09/30/Switchboard-V2-Roles-and-Responsibilities">Switchboard V2 (pt. 1) — Roles and Responsibilities</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/09/22/Intro-to-Switchboard">Intro to Switchboard</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/06/28/Switchboard-Partners-with-Genesis-Volatility">Switchboard partners with Genesis Volatility to provide on-chain volatility data on Solana</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/06/17/Switchboard-Raises-3.5MM-Seed">Switchboard raises 3.5MM seed and announces Solana Mainnet Beta</a></li><li class="sidebarItem_QgSO"><a class="sidebarItemLink_mxj2" href="/blog/2021/05/25/Introducing-Switchboard">Introducing Switchboard</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_zFc6" itemprop="headline">Fair LP Token Oracles</h1><div class="container_BSNm margin-vert--md"><time datetime="2022-01-20T00:00:00.000Z" itemprop="datePublished">January 20, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_E1Cj"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/gallynaut" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://pbs.twimg.com/profile_images/1649642820993679365/buRwDkVY_400x400.jpg" alt="gallynaut"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/gallynaut" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">gallynaut</span></a></div><small class="avatar__subtitle" itemprop="description">Developer Relations</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Switchboard now offers fair LP token pricing oracles based on the work of Alpha
Finance Lab!</p><h2 class="anchor anchorWithStickyNavbar_g2jJ" id="the-concern">The Concern<a href="#the-concern" class="hash-link" aria-label="Direct link to The Concern" title="Direct link to The Concern">​</a></h2><p>A liquidity pool is a collection of funds locked in a smart contract, used to
facilitate decentralized trading, lending, and many more functions <!-- -->[1]<!-- -->. With
DeFi we are able to deposit assets into an LP pool, receive yield bearing LP
tokens, and then borrow against our LP tokens. The price of these LP tokens is
typically calculated by summing the total liquidity in the pool and dividing by
the number of LP tokens issued. This basic calculation works well when the total
liquidity in the pool is balanced between each asset but starts to fall apart
when the pool liquidity is imbalanced.</p><p>Consider the WarpFinance incident where an attacker was able to use a flash loan
to manipulate the price of an LP token by taking advantage of the imbalance, for
which they used as collateral to borrow a greater amount of capital than was
sufficiently allowed <!-- -->[2]<!-- -->. This type of hack takes advantage of the LP token
price oracle in order to over-borrow from a lending provider.</p><h2 class="anchor anchorWithStickyNavbar_g2jJ" id="the-solution">The Solution<a href="#the-solution" class="hash-link" aria-label="Direct link to The Solution" title="Direct link to The Solution">​</a></h2><p>Thanks to Alpha Finance Lab we have a solution: Fair LP Token Pricing <!-- -->[3]<!-- -->.</p><p><img loading="lazy" src="data:image/png;base64,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jz76yM0000wV2VFR7LHHHlEafYQpo56AQf/zzz96jhrru+++i/K152STTTZxV111VakqeP6nnXaau+eeezT/jz/+6AYMGKDS+99//12qjrxM9JcVw7vvvpuXLbo2dOhQvT/PCHrvvfd0AgvtizJ24Ikx4Q4Ec3RVBaNCz8vy84UXXlAG1rNnz4rbM5jIF1QWX331lRrnRowY4ZZaaim3xRZbOHTLDNI111zT/fvvvxXly/54//33NetPP/3keIGgv/76y3GfLLrvvvvckCFDtN0wEf4wqNCePn36ZBXLTYeZskKAYCa//PKLnn/77bc6SemPlH8wH/SpMKoNN9zQrbfeem6OOeZwWLOvueaalBKjnjQqWGXdjb7OMMMMitvee++tE1paXmwFJ554YnQJBsezPvjgg90222yjtoKuXbsq85533nndq6++GuWt5oTxxRiAwPzXX3/Vc7wy8pgpRmNsGeuuu64KFTyHZZZZRgUFxml4jlpZFf8++OAD7SfPlrHIZAPBVLMIYYb3hb6gU993333dhRde6NZee22dKHbbbbesou1L55P3Rs2FgLxYUYOFWfgFF1ww+h1OhJl4kQjDT3/QQQf5p556yl9xxRVeRozv27evXptqqqm86JO9vJhR3rInMqC9ME8vTMCL5OAXWmghLxKHX2KJJfwiiyySWY0McP/bb7/57bffXtsizNfLpKHnW265ZWa5vAsi3XlRx/hLLrnEDxw40O+3337+/vvv99NOO60XnXhqUZHCvLz8em3mmWfWvMLc/Pnnn69tEQk5KicTmn/sscf0jzyBqANcn332Wf/MM8+E5DbHUcWqTUX/JcjKwXNvSJiftl0mjf+u/v+BfshqKUqTSdKLMVd/86ymn356H++LSIx+//33j/JXcyIM3c8yyyxeJle/+eab+1tuucXLisKLOsyLzjq1qkcffdQffvjhXiZNxZu2iVCgeUWq17Tbb789tWxRokxQfqWVVtL+TTPNNF4Ysd9uu+38WGONpfdLKy96c//AAw/42267Te/NuxXo6quv1rIywYQkLwKQpw/iAhqlcfLiiy/qWGA8fPzxxxXX0n6wFDRqEgR++OEHv9NOO/lll13Wf/7559pqjnvttVdFD3g5ZVlakSZqCC/SgJfZXF8MWXbr9YceesiL1KDnMGJeij333NOLpKQvUkUlKT9ExaEv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" width="353" height="82" class="img_eYgV"></p><p>Where, r is the amount of reserves, and p is the given price, for each pool
member.</p><p>The fair LP formula takes into account the weight of each pool member’s
liquidity to determine a fair price. What that means is as a pool imbalance
grows, the price of the LP token decreases in order to lower the risk of flash
loan attacks being able to over-borrow against them.</p><p>Switchboard oracles now give you the option to calculate the fair price of an LP
token using the
<a href="https://docs.switchboard.xyz/architecture/task#lptokenpricetask" target="_blank" rel="noopener noreferrer">LpTokenPriceTask</a>.
Switchboard’s solution requires an existing aggregator for each pool member so
that the formula is always using the previous aggregator result for each pool
member’s price to prevent additional manipulation.</p><p>These feeds are live now so check out our feed explorer for an example of what
these on-chain jobs look like:</p><ul><li><p><a href="https://switchboard.xyz/explorer/0/DhfLLj2NeBHBN2t7ksjwiZjpigzzTPSX9fwEiXyV9zDc" target="_blank" rel="noopener noreferrer">LP MERCURIAL USDC USDT PAI</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/2WUiZrSqyyfz65o36hmYw8XDXzTtGjt8qK7Co67E8km9" target="_blank" rel="noopener noreferrer">LP MERCURIAL USDC USDT wUST</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/GnTHvhe4opQXHL4JGgDpfQKk2JY1ugmVLWvJocTH639q" target="_blank" rel="noopener noreferrer">LP SABER USDT USDC</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/AgChoQ3C9Zj68p6qrEs9ffp1dHcBsgFnw5jA3oWcq1c" target="_blank" rel="noopener noreferrer">LP SABER wUST USDC</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/6ZuSuX14mxyZQ8JgjAC9PoDcbAU9sr1umUoyYVseVaNF" target="_blank" rel="noopener noreferrer">LP SABER mSOL SOL</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/EX8SxM4XcJyYBf6JWZArQkemXHNf88Z4CpDqDC8VdnKr" target="_blank" rel="noopener noreferrer">LP ORCA SOL USDC</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/DSPkZDVs4d5qMqThBCNUzemnUjgSPBjbGxL9otDfcjyB" target="_blank" rel="noopener noreferrer">LP ORCA USDC USDT</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/DrKZHV8aRb9RNtjwGwJe3LBzemVqzJB1X7Z52dm4m7w" target="_blank" rel="noopener noreferrer">LP ORCA mSOL SOL</a></p></li><li><p><a href="https://switchboard.xyz/explorer/0/WppSmFsZqKGzJcUL9vcU3VJTYpa2BXF6QEiRUVZjRDz" target="_blank" rel="noopener noreferrer">LP RAYDIUM SOL USDC</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_g2jJ" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><ul><li><p>[1][https://academy.binance.com/en/articles/what-are-liquidity-pools-in-defi]<!-- -->(<a href="https://academy.binance.com/en/articles/what-are-liquidity-pools-in-defi" target="_blank" rel="noopener noreferrer">https://academy.binance.com/en/articles/what-are-liquidity-pools-in-defi</a>)</p></li><li><p>[2][https://peckshield.medium.com/warpfinance-incident-root-cause-analysis-581a4869ee00]<!-- -->(<a href="https://peckshield.medium.com/warpfinance-incident-root-cause-analysis-581a4869ee00" target="_blank" rel="noopener noreferrer">https://peckshield.medium.com/warpfinance-incident-root-cause-analysis-581a4869ee00</a>)</p></li><li><p>[3][https://blog.alphafinance.io/fair-lp-token-pricing/]<!-- -->(<a href="https://blog.alphafinance.io/fair-lp-token-pricing/" target="_blank" rel="noopener noreferrer">https://blog.alphafinance.io/fair-lp-token-pricing/</a>)</p></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/01/27/Switchboard-V2-is-LIVE"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Switchboard V2 is LIVE!</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2021/11/03/Switchboard-V2-Incentives"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Switchboard V2 (pt.3) — Incentives</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.85fbabb3.js"></script>
<script src="/assets/js/main.df7f9c98.js"></script>
</body>
</html>