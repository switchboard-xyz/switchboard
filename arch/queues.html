<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-arch/queues">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Oracle Queues | Switchboard</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/arch/queues"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Oracle Queues | Switchboard"><meta data-rh="true" name="description" content="Each oracle queue in the Switchboard Network is autonomous and maintains its own"><meta data-rh="true" property="og:description" content="Each oracle queue in the Switchboard Network is autonomous and maintains its own"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/arch/queues"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/arch/queues" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/arch/queues" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XO84KDTPTB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Switchboard RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Switchboard Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Switchboard" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.642da6e7.css">
<link rel="preload" href="/assets/js/runtime~main.b2f91d2f.js" as="script">
<link rel="preload" href="/assets/js/main.a12b3f5b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_OBFB" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_CGvH themedImage--light_eVSI" height="72" width="72"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_CGvH themedImage--dark_jDJz" height="72" width="72"></div><b class="navbar__title text--truncate">Switchboard</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/about">Getting Started</a><a class="navbar__item navbar__link" href="/guides">Guides</a><a class="navbar__item navbar__link" href="/api">API</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Networks</a><ul class="dropdown__menu"><li><a class="dropdown__link heading_icon__aptos" href="/aptos"> Aptos</a></li><li><a class="dropdown__link heading_icon__coredao" href="/coredao"> CoreDAO</a></li><li><a class="dropdown__link heading_icon__near" href="/near"> Near</a></li><li><a class="dropdown__link heading_icon__solana" href="/solana"> Solana</a></li><li><a class="dropdown__link heading_icon__sui" href="/sui"> Sui</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">üìö Medium</a></li><li><a href="https://app.switchboard.xyz" target="_blank" rel="noopener noreferrer" class="dropdown__link">üìö Publisher</a></li><li><a href="https://switchboard.xyz/explorer" target="_blank" rel="noopener noreferrer" class="dropdown__link">üîé Explorer</a></li><li><a href="https://switchboard.xyz/ecosystem" target="_blank" rel="noopener noreferrer" class="dropdown__link">ü§ù Ecosystem</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="searchBox_e1bY"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link heading_icon__github" aria-label="GitHub repository"></a><a href="https://twitter.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link heading_icon__twitter" aria-label="Twitter Link"></a><div class="toggle_n1Xn colorModeToggle_GKKA"><button class="clean-btn toggleButton_tkWz toggleButtonDisabled_HCMP" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_EYlw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nanl"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_O4bG docsWrapper_MPL9"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Z6E2" type="button"></button><div class="docPage_eopn"><aside class="theme-doc-sidebar-container docSidebarContainer_y1pl"><div class="sidebarViewport_XEoT"><div class="sidebar_COxX"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_ygLS"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/about">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/terms">Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><hr class="sidebar-separator"></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><h3 class="sidebar__custom_label sidebar__category_label">Architecture</h3></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/arch/queues">Oracle Queues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/arch/acess-control">Access Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/arch/feeds">Data Feeds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/arch/randomness">Randomness</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/v3">Switchboard V3</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tee">What are Secure Enclaves?</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_jYv2"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ZQqm"><div class="docItemContainer_gWiG"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Uhpu" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_tm71"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Oracle Queues</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_nZki theme-doc-toc-mobile tocMobile_SfQp"><button type="button" class="clean-btn tocCollapsibleButton_hxSC">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Oracle Queues</h1></header><p>Each oracle queue in the Switchboard Network is autonomous and maintains its own
configurations, which determine the level of security it provides. This design
choice enables users to tailor the oracle queue&#x27;s behavior to match their
specific use case. Anyone can create their own queue and even run their own
private Switchboard Network if desired.</p><h2 class="anchor anchorWithStickyNavbar_gzYQ" id="oracle-assignment">Oracle Assignment<a href="#oracle-assignment" class="hash-link" aria-label="Direct link to Oracle Assignment" title="Direct link to Oracle Assignment">‚Äã</a></h2><p>The Switchboard Network employs a round-robin approach to assign update requests
to oracles. This section explains the key aspects of this method and its
benefits for the network.</p><h3 class="anchor anchorWithStickyNavbar_gzYQ" id="heartbeat-requirement">Heartbeat Requirement<a href="#heartbeat-requirement" class="hash-link" aria-label="Direct link to Heartbeat Requirement" title="Direct link to Heartbeat Requirement">‚Äã</a></h3><p>Oracles are required to periodically heartbeat on-chain before the
<code>queue.oracleTimeout</code> to signal their readiness. If an oracle fails to heartbeat
within this time frame, it will be temporarily removed from the queue and won&#x27;t
be assigned any update requests until it successfully heartbeats again.</p><p>The queue utilizes <code>queue.gcIdx</code> to track its garbage collection index. If an
oracle fails to send a heartbeat before <code>queue.oracleTimeout</code>, it is removed
from the queue until it sends a successful heartbeat again. This process ensures
that only active oracles are assigned resource update requests.</p><h3 class="anchor anchorWithStickyNavbar_gzYQ" id="round-robin-assignment">Round-Robin Assignment<a href="#round-robin-assignment" class="hash-link" aria-label="Direct link to Round-Robin Assignment" title="Direct link to Round-Robin Assignment">‚Äã</a></h3><p>Update requests are assigned to oracles in a round-robin fashion, ensuring a
fair distribution of tasks among oracles. Aggregators or data feeds can specify
the number of oracles (N) required for each request. The system will then assign
the next N oracles in the queue to fulfill the request. If there are not enough
oracles in the queue, the update request will fail.</p><h3 class="anchor anchorWithStickyNavbar_gzYQ" id="periodic-swapping-of-oracle-positions">Periodic Swapping of Oracle Positions<a href="#periodic-swapping-of-oracle-positions" class="hash-link" aria-label="Direct link to Periodic Swapping of Oracle Positions" title="Direct link to Periodic Swapping of Oracle Positions">‚Äã</a></h3><p>To provide an element of unpredictability and mitigate the risk of oracles being
assigned the same update requests in every iteration, oracle positions in the
queue are periodically swapped. This helps to further distribute tasks fairly
and enhances the overall security of the network.</p><h2 class="anchor anchorWithStickyNavbar_gzYQ" id="access-control">Access Control<a href="#access-control" class="hash-link" aria-label="Direct link to Access Control" title="Direct link to Access Control">‚Äã</a></h2><p>The Switchboard Network provides flexible access control options for each oracle
queue, allowing queue operators to define whether data consumers need
pre-approval or whether any requester can access the queue. This feature allows
users to maintain control over their data resources and the level of security
they require.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_pcrZ"><div class="admonitionHeading_qoRV"><span class="admonitionIcon_dsQK"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_lB_1"><p>Oracles are <em><strong>always</strong></em> required to be granted <code>PermitOracleHeartbeat</code>
permissions before joining a queue.</p><p>With Switchboard V3 oracles are pre-approved as long as they verify their
MRENCLAVE measurements proving they are running a given software baseline within
a trusted execution environment.</p></div></div><h2 class="anchor anchorWithStickyNavbar_gzYQ" id="economic-security">Economic Security<a href="#economic-security" class="hash-link" aria-label="Direct link to Economic Security" title="Direct link to Economic Security">‚Äã</a></h2><p>Economic incentives are employed to encourage oracles to act honestly and
provide accurate data. These incentives form the basis of the queue&#x27;s security
model and include:</p><ul><li><strong>Reward</strong>: The number of tokens an oracle or crank turner receives for
successfully completing an on-chain action</li><li><strong>Slashing</strong>: Discouraging oracles from responding to update requests outside
a set margin of error</li><li><strong>Minimum Stake</strong>: Oracles are required to stake a minimum amount of capital
to give them skin in the game.</li></ul><p>These economic measures help ensure that the oracles in the network provide
reliable data and contribute to the overall security of the system.</p><h2 class="anchor anchorWithStickyNavbar_gzYQ" id="governance">Governance<a href="#governance" class="hash-link" aria-label="Direct link to Governance" title="Direct link to Governance">‚Äã</a></h2><p>Oracle queues can be governed by network participants to control various queue
configuration parameters, such as <code>queue.minStake</code>, <code>queue.reward</code>,
<code>queue.slashingEnabled</code>, and permitting new oracles to join the network.
Governance can be achieved through a decentralized autonomous organization (DAO)
or other mechanisms, allowing the community to have a say in the network&#x27;s
operation.</p><p>By understanding and leveraging the features of independent oracle queues, users
can customize the Switchboard Network to meet their specific requirements and
achieve the desired level of security.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/terms"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Terminology</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/arch/acess-control"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Access Control</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents__upx thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#oracle-assignment" class="table-of-contents__link toc-highlight">Oracle Assignment</a><ul><li><a href="#heartbeat-requirement" class="table-of-contents__link toc-highlight">Heartbeat Requirement</a></li><li><a href="#round-robin-assignment" class="table-of-contents__link toc-highlight">Round-Robin Assignment</a></li><li><a href="#periodic-swapping-of-oracle-positions" class="table-of-contents__link toc-highlight">Periodic Swapping of Oracle Positions</a></li></ul></li><li><a href="#access-control" class="table-of-contents__link toc-highlight">Access Control</a></li><li><a href="#economic-security" class="table-of-contents__link toc-highlight">Economic Security</a></li><li><a href="#governance" class="table-of-contents__link toc-highlight">Governance</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.b2f91d2f.js"></script>
<script src="/assets/js/main.a12b3f5b.js"></script>
</body>
</html>