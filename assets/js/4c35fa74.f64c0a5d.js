"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2889],{54852:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var r=n(49231);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},16109:(e,t,n)=>{var r=n(10287);t.Z=void 0;var a=r(n(88706)),o=n(20264),i=(0,a.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");t.Z=i},70651:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(49231),a=n(19841);const o={tabItem:"tabItem_cjqz"};function i(e){let{children:t,hidden:n,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(o.tabItem,i),hidden:n},t)}},54405:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(95634),a=n(49231),o=n(19841),i=n(93682),l=n(17096),s=n(80852);const u={tabList:"tabList_URvL",tabItem:"tabItem_e5E2"};function c(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:c}=e;const d=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.o5)(),m=e=>{const t=e.currentTarget,n=d.indexOf(t),r=c[n].value;r!==l&&(p(t),s(r))},f=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;t=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;t=d[n]??d[d.length-1];break}}t?.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},c.map((e=>{let{value:t,label:n,attributes:i}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>d.push(e),onKeyDown:f,onClick:m},i,{className:(0,o.Z)("tabs__item",u.tabItem,i?.className,{"tabs__item--active":l===t})}),n??t)})))}function d(e){let{lazy:t,children:n,selectedValue:r}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function p(e){const t=(0,l.Y)(e);return a.createElement("div",{className:(0,o.Z)("tabs-container",u.tabList)},a.createElement(c,(0,r.Z)({},e,t)),a.createElement(d,(0,r.Z)({},e,t)))}function m(e){const t=(0,s.Z)();return a.createElement(p,(0,r.Z)({key:String(t)},e))}},17096:(e,t,n)=>{n.d(t,{Y:()=>p});var r=n(49231),a=n(19409),o=n(18948),i=n(79862),l=n(42150);function s(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}function u(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??s(n);return function(e){const t=(0,i.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function c(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function d(e){let{queryString:t=!1,groupId:n}=e;const i=(0,a.k6)(),l=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,o._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(i.location.search);t.set(l,e),i.replace({...i.location,search:t.toString()})}),[l,i])]}function p(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=u(e),[i,s]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[p,m]=d({queryString:n,groupId:a}),[f,h]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,o]=(0,l.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:a}),b=(()=>{const e=p??f;return c({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{b&&s(b)}),[b]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!c({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),m(e),h(e)}),[m,h,o]),tabValues:o}}},46441:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(16109),a=n(7179),o=n(73943),i=n(92994),l=n(49231);function s(e){let t={textTransform:"none",color:"var(--ifm-color-primary-light)",fontWeight:800,margin:0};e.sx&&(t={...t,...e.sx});return l.createElement(a.Z,{title:"copy to clipboard","aria-label":"copy to clipboard",arrow:!0},l.createElement(o.Z,{variant:"text",size:"small",startIcon:l.createElement(r.Z,{sx:{fill:"var(--ifm-color-primary-darkest)"},fontSize:"small"}),onClick:()=>{const t=document.createElement("textarea");t.value=e.address,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},l.createElement(i.Z,{sx:t,color:"textSecondary"},function(e,t){if(!t||0===t||0===e.length||e.length<t)return e;const n=t,r=Math.floor(e.length/2),a=n%2==0?r-n/2:r-Math.floor(n/2)-1,o=n%2==0?r+n/2:r-Math.floor(n/2);return`${e.slice(0,a)}...${e.slice(o,e.length)}`}(e.address,e.trim))))}},45983:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(63536),a=n(38984),o=n(40862),i=n(49231);const l=e=>{const{colorMode:t}=(0,r.I)(),n=(0,a.Z)("dark"===t&&e.darkImg?e.darkImg:e.img);let l="inherit";e.lightBg&&"dark"!==t&&(l=e.lightBg),e.darkBg&&"dark"===t&&(l=e.darkBg);let s={};return e.sx&&(s={backgroundColor:l,m:"auto",display:"flex",...s,...e.sx}),i.createElement(o.Z,{component:"img",sx:s,src:n})}},88591:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=n(95634),a=(n(49231),n(54852)),o=(n(45983),n(46441));n(68885),n(51766),n(54405),n(70651);const i={sidebar_position:1,slug:"/solana/functions",title:"Functions Overview",description:"Learn how to use Switchboard Functions to push data to your on-chain programs on a schedule or on-demand"},l=void 0,s={unversionedId:"solana/functions/overview",id:"solana/functions/overview",title:"Functions Overview",description:"Learn how to use Switchboard Functions to push data to your on-chain programs on a schedule or on-demand",source:"@site/docs/solana/functions/overview.mdx",sourceDirName:"solana/functions",slug:"/solana/functions",permalink:"/solana/functions",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/solana/functions",title:"Functions Overview",description:"Learn how to use Switchboard Functions to push data to your on-chain programs on a schedule or on-demand"},sidebar:"gettingStartedSidebar",previous:{title:"Developer Resources",permalink:"/solana/dev"},next:{title:"Ex. 01: Basic Oracle Example",permalink:"/solana/functions/examples/basic-oracle-example"}},u={},c=[{value:"Switchboard Functions Overview",id:"switchboard-functions-overview",level:2}],d={toc:c},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Switchboard Functions allow you to verifiably execute your own Rust code\noff-chain and submit transactions either on a pre-defined cron schedule or\non-demand. Switchboard Functions gives smart contracts greater flexibility as\nthey can delegate execution to an off-chain computational layer."),(0,a.kt)("h2",{id:"switchboard-functions-overview"},"Switchboard Functions Overview"),(0,a.kt)("p",null,'The Attestation Program contains a set of verifier oracles which watch the chain\nfor attestation requests. When a request is found the verifier oracles will\nexecute your container within a secure enclave. The container contains your\ncustom off-chain logic and needs to return a list of instructions along with a\nquote generated from within the enclave. The verifier oracles will attest, or\n"verify", that the code running within the enclave matches the expected enclave\nvalues you control.'),(0,a.kt)("p",null,"The very first instruction returned by your function should be the Switchboard\n",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"functionVerify"))," instruction. This instruction is signed by the verifier\noracle which is also run within an enclave and has its verifier codebase\nattested on-chain. If we can prove the keypair never left the enclave and the\nkeypair signed the transaction, then we can be sure that the code was executed\nsecurely."),(0,a.kt)("p",null,"Below are the current parameters set for the Switchboard Labs Attestation Queue:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Param"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Minimum Update Interval"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},(0,a.kt)("em",{parentName:"strong"},"1 second!"))," ",(0,a.kt)("br",null),(0,a.kt)("br",null),"The minimum time between requesting a function update. You can set a cron schedule of ",(0,a.kt)("inlineCode",{parentName:"td"},"1 * * * * *")," to request an update every second!")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Cost"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"20_000 Lamports (0.00002 SOL)"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The amount of lamports that is charged for each ",(0,a.kt)("inlineCode",{parentName:"td"},"function_verify")," call.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Maximum Instruction(s) Size"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("strong",{parentName:"td"},"548 Bytes (667 Bytes soon)")," ",(0,a.kt)("br",null),(0,a.kt)("br",null),"The maximum size of instruction(s) you can return including all extra signers. The ",(0,a.kt)("inlineCode",{parentName:"td"},"function_verify")," ixn currently uses 684 Bytes. Address lookup tables will be supported allowing you to fit more accounts per transaction; this will free ~100 bytes giving you 667 bytes for your custom instructions. ",(0,a.kt)("br",null),(0,a.kt)("br",null)," Transaction bundles will be supported when a common standard is agreed upon at the protocol level; this will allow you to return an arbitrary number of instructions which get executed in-order and rolled back if any instruction fails.")))),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Below are the Switchboard Labs Attestation Queue addresses")),(0,a.kt)("h4",null,"Mainnet-Beta"),(0,a.kt)(o.Z,{address:"2ie3JZfKcvsRLsJaP5fSo43gUo1vsurnUAtAgUdUAiDG",mdxType:"AddressButton"}),(0,a.kt)("h4",null,"Devnet"),(0,a.kt)(o.Z,{address:"CkvizjVnm2zA5Wuwan34NhVT3zFc7vqUyGnA6tuEF5aE",mdxType:"AddressButton"})))}m.isMDXComponent=!0}}]);