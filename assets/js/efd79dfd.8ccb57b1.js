"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4971],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>m});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),c=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=c(e.components);return n.createElement(s.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,b=d["".concat(s,".").concat(m)]||d[m]||u[m]||l;return t?n.createElement(b,o(o({ref:a},p),{},{components:t})):n.createElement(b,o({ref:a},p))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=t[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},5162:(e,a,t)=>{t.d(a,{Z:()=>o});var n=t(7294),r=t(6010);const l="tabItem_Ymn6";function o(e){let{children:a,hidden:t,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:t},a)}},5488:(e,a,t)=>{t.d(a,{Z:()=>m});var n=t(3117),r=t(7294),l=t(6010),o=t(2389),i=t(7392),s=t(7094),c=t(2466);const p="tabList__CuJ",u="tabItem_LNqP";function d(e){var a,t;const{lazy:o,block:d,defaultValue:m,values:b,groupId:g,className:h}=e,v=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=b?b:v.map((e=>{let{props:{value:a,label:t,attributes:n}}=e;return{value:a,label:t,attributes:n}})),y=(0,i.l)(k,((e,a)=>e.value===a.value));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const I=null===m?m:null!=(a=null!=m?m:null==(t=v.find((e=>e.props.default)))?void 0:t.props.value)?a:v[0].props.value;if(null!==I&&!k.some((e=>e.value===I)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+I+'" but none of its children has the corresponding value. Available values are: '+k.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:f,setTabGroupChoices:w}=(0,s.U)(),[j,N]=(0,r.useState)(I),Z=[],{blockElementScrollPositionUntilNextRender:C}=(0,c.o5)();if(null!=g){const e=f[g];null!=e&&e!==j&&k.some((a=>a.value===e))&&N(e)}const G=e=>{const a=e.currentTarget,t=Z.indexOf(a),n=k[t].value;n!==j&&(C(a),N(n),null!=g&&w(g,String(n)))},E=e=>{var a;let t=null;switch(e.key){case"ArrowRight":{var n;const a=Z.indexOf(e.currentTarget)+1;t=null!=(n=Z[a])?n:Z[0];break}case"ArrowLeft":{var r;const a=Z.indexOf(e.currentTarget)-1;t=null!=(r=Z[a])?r:Z[Z.length-1];break}}null==(a=t)||a.focus()};return r.createElement("div",{className:(0,l.Z)("tabs-container",p)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":d},h)},k.map((e=>{let{value:a,label:t,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:j===a?0:-1,"aria-selected":j===a,key:a,ref:e=>Z.push(e),onKeyDown:E,onFocus:G,onClick:G},o,{className:(0,l.Z)("tabs__item",u,null==o?void 0:o.className,{"tabs__item--active":j===a})}),null!=t?t:a)}))),o?(0,r.cloneElement)(v.filter((e=>e.props.value===j))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},v.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==j})))))}function m(e){const a=(0,o.Z)();return r.createElement(d,(0,n.Z)({key:String(a)},e))}},1957:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var n=t(3117),r=(t(7294),t(3905)),l=t(5488),o=t(5162);const i={sidebar_position:1,slug:"/cli",title:"Overview"},s="sbv2",c={unversionedId:"dev/cli/overview",id:"dev/cli/overview",title:"Overview",description:"GitHub",source:"@site/docs/dev/cli/overview.mdx",sourceDirName:"dev/cli",slug:"/cli",permalink:"/sbv2-core/cli",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/cli",title:"Overview"},sidebar:"dev",previous:{title:"Developer Resources",permalink:"/sbv2-core/dev/"}},p={},u=[{value:"Install",id:"install",level:2},{value:"Overview",id:"overview",level:2},{value:"Examples",id:"examples",level:2},{value:"Print",id:"print",level:3},{value:"Create a Queue",id:"create-a-queue",level:3},{value:"Create Aggregator",id:"create-aggregator",level:3},{value:"Create Oracle",id:"create-oracle",level:3},{value:"Create Crank",id:"create-crank",level:3},{value:"Push to Crank",id:"push-to-crank",level:3},{value:"Create Job",id:"create-job",level:3},{value:"Add Job to Aggregator",id:"add-job-to-aggregator",level:3}],d={toc:u};function m(e){let{components:a,...i}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,i,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"sbv2"},"sbv2"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/switchboard-xyz/switchboard-v2/tree/main/cli"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/--181717?logo=github&logoColor=ffffff",alt:"GitHub"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@switchboard-xyz/switchboardv2-cli"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/v/@switchboard-xyz/switchboardv2-cli",alt:"npm"})),"\n",(0,r.kt)("img",{alt:"Page Last Updated",src:t(1383).Z,width:"190",height:"20"})),(0,r.kt)("p",null,"The Switchboard V2 CLI provides an easy to use interface to setup and manage\nSwitchboard onchain accounts."),(0,r.kt)("h2",{id:"install"},"Install"),(0,r.kt)("p",null,"Run the following command:"),(0,r.kt)(l.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install -g @switchboard-xyz/switchboardv2-cli\n"))),(0,r.kt)(o.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add -g @switchboard-xyz/switchboardv2-cli\n")))),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Logging")," Most commands will have a ",(0,r.kt)("inlineCode",{parentName:"p"},"--silent"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"-s")," flag that will suppress\nconsole output and only output a new account public key to assist in scripting.\nA ",(0,r.kt)("inlineCode",{parentName:"p"},"--verbose"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"-v")," flag will do the opposite and log any debug or configuration\ninformation to help debug."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Help")," All commands can be run with the ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," flag to print the available\narguments and flags for a given command."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Keypairs")," The Switchboard V2 CLI lets you specify a keypair from an absolute\nor relative filesystem path as well as a Google Secret Manager secret. The\nfollowing flags are common among most commands, with the exception of the print\ncommands that require no keypairs:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--keypair")," is required for any command that submits an onchain transaction\nsuch as creating accounts, turning the crank, or updating an account config.\nThis keypair will default as the authority if the authority flag is not\nprovided."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--authority")," is the keypair that is or will be the authority for a given\naccount. The authority is responsible for authorizing new permissions,\nchanging an account, or withdrawing from a token account.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Token Amounts")," Any commands that specify a token amount will be converted to\nthe raw token amount if it contains a decimal. For example, wSOL has 9 decimal\nplaces so a CLI arguement of 1.5 would be interpretted as 1_500_000_000 tokens\nwhereas 1 would be interpretted as 1 token."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Cluster")," By default the CLI will target devnet unless the ",(0,r.kt)("inlineCode",{parentName:"p"},"--mainnetBeta"),"\nflag is provided."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"RPC URL")," The CLI will connect to the default solana endpoints unless\n",(0,r.kt)("inlineCode",{parentName:"p"},"--rpcUrl")," is provided."),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("h3",{id:"print"},"Print"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# check account discriminator and print account information if found\nsbv2 print PUBLICKEY\n# print an oracle account by its public key\nsbv2 print oracle ORACLEKEY\n# print an aggregator account\nsbv2 print aggregator AGGREGATORKEY\n")),(0,r.kt)("h3",{id:"create-a-queue"},"Create a Queue"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 queue create \\\n    --name "My Queue" \\\n    --keypair "path/to/payer/keypair.json" \\\n    --authority "path/to/authority/keypair.json"  \\\n    --minStake 0 \\\n    --reward 0 \\\n    --crankSize 0 \\\n    --oracleTimeout 300 \\\n    --numOracles 0 \\\n    --queueSize 25 \\\n    --outputFile "My_Switchboard_Queue.json" \\\n    --verbose\n')),(0,r.kt)("h3",{id:"create-aggregator"},"Create Aggregator"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 aggregator create AGGREGATORKEY \\\n    --name "My Buffer" \\\n    --keypair "path/to/payer/keypair.json" \\\n    --batchSize 1 \\\n    --minOracles 1 \\\n    --minJobs 1 \\\n    --updateInterval 45 \\\n    --job "path/to/job-definition-1.json" \\\n    --job "path/to/job-definition-2.json" \\\n    --verbose\n')),(0,r.kt)("h3",{id:"create-oracle"},"Create Oracle"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 oracle create QUEUEKEY \\\n    --name "My Oracle" \\\n    --keypair "path/to/payer/keypair.json" \\\n    --authority "path/to/authority/keypair.json"  \\\n    --enable \\\n    --verbose\n')),(0,r.kt)("h3",{id:"create-crank"},"Create Crank"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 crank create QUEUEKEY \\\n  --name "My Crank" \\\n  --keypair "path/to/payer/keypair.json"  \\\n  --authority "queue-authority.json" \\\n  --maxRows 1000 \\\n  --verbose\n')),(0,r.kt)("h3",{id:"push-to-crank"},"Push to Crank"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 crank push CRANKKEY AGGREGATORKEY \\\n    --keypair "path/to/payer/keypair.json"\n')),(0,r.kt)("h3",{id:"create-job"},"Create Job"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 job create "job-directory/sysclockOffsetTask/sysclock.json" \\\n    --name "SysClock Drift" \\\n    --keypair "path/to/payer/keypair.json"\n')),(0,r.kt)("h3",{id:"add-job-to-aggregator"},"Add Job to Aggregator"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sbv2 aggregator add job AGGREGATORKEY \\\n    --jobDefinition "job-directory/sysclockOffsetTask/sysclock.json" \\\n    --keypair "path/to/payer/keypair.json" \\\n    --verbose\n# OR\nsbv2 aggregator add job AGGREGATORKEY \\\n    --jobKey "6jXKur6RaBMewKyEE8YVGLwWXM15ZDygeoqgAZUW9y3r" \\\n    --keypair "path/to/payer/keypair.json" \\\n    --verbose\n')))}m.isMDXComponent=!0},1383:(e,a,t)=>{t.d(a,{Z:()=>n});const n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTkwIiBoZWlnaHQ9IjIwIiByb2xlPSJpbWciIGFyaWEtbGFiZWw9IlBhZ2UgTGFzdFVwZGF0ZWQ6IE1heS0yMC0yMDIyIj48dGl0bGU+UGFnZSBMYXN0VXBkYXRlZDogTWF5LTIwLTIwMjI8L3RpdGxlPjxsaW5lYXJHcmFkaWVudCBpZD0icyIgeDI9IjAiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNiYmIiIHN0b3Atb3BhY2l0eT0iLjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3Atb3BhY2l0eT0iLjEiLz48L2xpbmVhckdyYWRpZW50PjxjbGlwUGF0aCBpZD0iciI+PHJlY3Qgd2lkdGg9IjE5MCIgaGVpZ2h0PSIyMCIgcng9IjMiIGZpbGw9IiNmZmYiLz48L2NsaXBQYXRoPjxnIGNsaXAtcGF0aD0idXJsKCNyKSI+PHJlY3Qgd2lkdGg9IjEwOSIgaGVpZ2h0PSIyMCIgZmlsbD0iIzU1NSIvPjxyZWN0IHg9IjEwOSIgd2lkdGg9IjgxIiBoZWlnaHQ9IjIwIiBmaWxsPSIjMDA3ZWM2Ii8+PHJlY3Qgd2lkdGg9IjE5MCIgaGVpZ2h0PSIyMCIgZmlsbD0idXJsKCNzKSIvPjwvZz48ZyBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iVmVyZGFuYSxHZW5ldmEsRGVqYVZ1IFNhbnMsc2Fucy1zZXJpZiIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxMTAiPjx0ZXh0IGFyaWEtaGlkZGVuPSJ0cnVlIiB4PSI1NTUiIHk9IjE1MCIgZmlsbD0iIzAxMDEwMSIgZmlsbC1vcGFjaXR5PSIuMyIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIHRleHRMZW5ndGg9Ijk5MCI+UGFnZSBMYXN0VXBkYXRlZDwvdGV4dD48dGV4dCB4PSI1NTUiIHk9IjE0MCIgdHJhbnNmb3JtPSJzY2FsZSguMSkiIGZpbGw9IiNmZmYiIHRleHRMZW5ndGg9Ijk5MCI+UGFnZSBMYXN0VXBkYXRlZDwvdGV4dD48dGV4dCBhcmlhLWhpZGRlbj0idHJ1ZSIgeD0iMTQ4NSIgeT0iMTUwIiBmaWxsPSIjMDEwMTAxIiBmaWxsLW9wYWNpdHk9Ii4zIiB0cmFuc2Zvcm09InNjYWxlKC4xKSIgdGV4dExlbmd0aD0iNzEwIj5NYXktMjAtMjAyMjwvdGV4dD48dGV4dCB4PSIxNDg1IiB5PSIxNDAiIHRyYW5zZm9ybT0ic2NhbGUoLjEpIiBmaWxsPSIjZmZmIiB0ZXh0TGVuZ3RoPSI3MTAiPk1heS0yMC0yMDIyPC90ZXh0PjwvZz48L3N2Zz4="}}]);