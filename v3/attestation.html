<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-v3/attestation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Switchboard Attestation Program | Switchboard</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.switchboard.xyz/v3/attestation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Switchboard Attestation Program | Switchboard"><meta data-rh="true" name="description" content="- Switchboard Attestation Program: A Comprehensive Guide"><meta data-rh="true" property="og:description" content="- Switchboard Attestation Program: A Comprehensive Guide"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.switchboard.xyz/v3/attestation"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/v3/attestation" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.switchboard.xyz/v3/attestation" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XO84KDTPTB-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Switchboard" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.da575142.css">
<link rel="preload" href="/assets/js/runtime~main.d718b995.js" as="script">
<link rel="preload" href="/assets/js/main.fc2c13c9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_M7ro" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Switchboard Logo" class="themedImage_Xejh themedImage--light_ek0B" height="72" width="72"><img src="/img/logo_white.svg" alt="Switchboard Logo" class="themedImage_Xejh themedImage--dark_U8A0" height="72" width="72"></div><b class="navbar__title text--truncate">Switchboard</b></a><a class="navbar__item navbar__link" href="/network">Learn</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/v3">V3</a><a class="navbar__item navbar__link" href="/publisher">Publish</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Integrate</a><ul class="dropdown__menu"><li><a class="dropdown__link header-aptos-link" href="/aptos"> Aptos</a></li><li><a class="dropdown__link header-coredao-link" href="/coredao"> CoreDAO</a></li><li><a class="dropdown__link header-near-link" href="/near"> Near</a></li><li><a class="dropdown__link header-solana-link" href="/solana"> Solana</a></li><li><a class="dropdown__link header-starknet-link" href="/starknet"> Starknet</a></li><li><a class="dropdown__link header-sui-link" href="/sui"> Sui</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/dev">Develop</a><ul class="dropdown__menu"><li class="dropdown-heading"><b>Common</b></li><li><a class="dropdown__link header-typescript-link" href="/dev/cli">@switchboard-xyz/cli</a></li><li><a class="dropdown__link header-typescript-link" href="/dev/common">@switchboard-xyz/common</a></li><li><a class="dropdown__link header-typescript-link" href="/dev/oracle">@switchboard-xyz/oracle</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Solana</b></li><li><a class="dropdown__link header-rust-link" href="/solana/dev/rust">  switchboard-v2</a></li><li><a class="dropdown__link header-typescript-link" href="/solana/dev/javascript">@switchboard-xyz/solana.js</a></li><li><a class="dropdown__link header-python-link" href="/solana/dev/python">  switchboardpy</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Aptos</b></li><li><a class="dropdown__link header-rust-link" href="/aptos/dev/move">  sbv2-aptos</a></li><li><a class="dropdown__link header-typescript-link" href="/aptos/dev/javascript">@switchboard-xyz/aptos.js</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>CoreDAO</b></li><li><a class="dropdown__link header-typescript-link" href="/coredao/dev/javascript">@switchboard-xyz/evm.js</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Near</b></li><li><a class="dropdown__link header-rust-link" href="/near/dev/rust">  sbv2-near</a></li><li><a class="dropdown__link header-typescript-link" href="/near/dev/javascript">@switchboard-xyz/near.js</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Starknet</b></li><li><a class="dropdown__link header-typescript-link" href="/starknet/dev/javascript">@switchboard-xyz/starknet.js</a></li><li><hr class="dropdown-separator"></li><li class="dropdown-heading"><b>Sui</b></li><li><a class="dropdown__link header-typescript-link" href="/sui/dev/javascript">@switchboard-xyz/sui.js</a></li></ul></div><a class="navbar__item navbar__link" href="/operator">Operate</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://switchboardxyz.medium.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">ðŸ“š Medium</a></li><li><a href="https://app.switchboard.xyz" target="_blank" rel="noopener noreferrer" class="dropdown__link">ðŸ“š Publisher</a></li><li><a href="https://switchboard.xyz/explorer" target="_blank" rel="noopener noreferrer" class="dropdown__link">ðŸ”Ž Explorer</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/switchboard-xyz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="searchBox_Up7n"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_Qqnd colorModeToggle_pZXP"><button class="clean-btn toggleButton__UKU toggleButtonDisabled_hxlU" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_ZaHl"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_fwGf"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_FFos docsWrapper_h_OO"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Clsd" type="button"></button><div class="docPage_iOC3"><aside class="theme-doc-sidebar-container docSidebarContainer_RzXS"><div class="sidebarViewport_zckT"><div class="sidebar_HIWq"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_NTxd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1"><h3 class="sidebar__custom_label sidebar__category_label">Switchboard V3</h3></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v3">Switchboard V3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v3/tee">TEE Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/v3/attestation">Switchboard Attestation Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v3/services">Switchboard Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v3/develop">Develop</a></li></ul></nav></div></div></aside><main class="docMainContainer_hVjb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ho8U"><div class="docItemContainer_rwAv"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_ZmXF" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_oFLU"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Switchboard Attestation Program</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_r_Yo theme-doc-toc-mobile tocMobile_H4Xq"><button type="button" class="clean-btn tocCollapsibleButton_zc1V">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Switchboard Attestation Program</h1></header><ul><li><a href="#">Switchboard Attestation Program: A Comprehensive Guide</a><ul><li><a href="#introduction-to-the-switchboard-attestation-program">Introduction to the Switchboard Attestation Program</a></li><li><a href="#exploring-sgx-attestation">Exploring SGX Attestation</a></li><li><a href="#sgx-runtime-environment">SGX Runtime Environment</a></li><li><a href="#crucial-components-in-the-attestation-process">Crucial Components in the Attestation Process</a></li><li><a href="#attestation-lifecycle">Attestation Lifecycle</a></li><li><a href="#frequently-asked-questions">Frequently Asked Questions</a><ul><li><a href="#verifierqueues-role-in-the-attestation-process">VerifierQueue&#x27;s role in the attestation process</a></li><li><a href="#managing-mrenclave-measurements">Managing MRENCLAVE measurements</a></li><li><a href="#permissionaccount-and-its-role-in-access-control">PermissionAccount and its role in access control</a></li><li><a href="#attestation-data-quote-generation-for-quoteaccount">Attestation data (quote) generation for QuoteAccount</a></li><li><a href="#switchboard-attestation-program-as-a-unique-oracle">Switchboard Attestation Program as a unique oracle</a></li><li><a href="#maintaining-an-active-sgx-enclave-with-the-heartbeat-mechanism">Maintaining an active SGX enclave with the heartbeat mechanism</a></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_EGXn" id="introduction-to-the-switchboard-attestation-program">Introduction to the Switchboard Attestation Program<a href="#introduction-to-the-switchboard-attestation-program" class="hash-link" aria-label="Direct link to Introduction to the Switchboard Attestation Program" title="Direct link to Introduction to the Switchboard Attestation Program">â€‹</a></h2><p>Previously, Switchboard&#x27;s security model depended on economic incentives where
data reporters were rewarded or penalized based on the proximity of their
reported data to the median. Oracle operators had to lock up a portion of
economic stake and receive explicit approval from the oracle queue&#x27;s authority.
Although this model provided a degree of decentralization and security, it faced
challenges in aligning the incentives of oracles with DeFi protocols.</p><p>Switchboard Attestation Program V3 tackles these challenges by leveraging TEEs.
TEEs allow for unique digital signatures to be created for software running
within them and the data generated by that software. This ensures the secure and
verifiable confirmation of the oracles&#x27; integrity and authenticity.</p><p>The Switchboard Attestation Program is a Solana contract that verifies
attestation quotes on-chain, granting or revoking oracle permissions based on
the compiled binary within the oracles&#x27; secure enclave. By verifying the code&#x27;s
integrity inside the enclave, we can ensure the code hasn&#x27;t been tampered with
and that our application will run as expected.</p><p>A ServiceQueueAccount manages a set of valid
<a href="/v3/tee#term-mrenclave">MRENCLAVE</a> measurements, representing the permitted
software versions an application can run. Any code changes will alter the
enclave&#x27;s state, necessitating the addition of a new measurement by the
ServiceQueueAccount <code>authority</code> before oracles can upgrade. If a version is
found to have a bug, it can be revoked, and oracles will automatically be
removed.</p><p>An oracle account represents a specific SGX enclave. When an oracle is
provisioned, it creates a QuoteAccount on-chain with the MRENCLAVE measurement
detailing the software version it runs. A quote verification oracle constantly
monitors the chain for oracles requesting verification of their enclave. Upon
detecting such an event, it calls the program and updates or revokes the
associated PermissionAccount based on whether the measurement is allowed on the
oracle&#x27;s ServiceQueueAccount.</p><p>ServiceQueueAccounts dictate how often oracles must verify their enclave,
ensuring that enclaves consistently update and maintain software patches.</p><p>With the Attestation Program, Switchboard V3 enables:</p><ul><li><strong>Oracle Verification</strong>: Oracles are encapsulated within TEEs, generating a
unique digital signature that can be posted on-chain for public verification.
This ensures that the oracles can be trusted while maintaining a decentralized
and verifiable system.</li><li><strong>Execution Verification</strong>: As oracles participate in a queue and handle user
requests, the executions of data feeds, functions, and other tasks can be
verifiably carried out. This allows users to confirm that transactions are
strictly dictated by the code that created them, ensuring system integrity and
security.</li></ul><h2 class="anchor anchorWithStickyNavbar_EGXn" id="exploring-sgx-attestation">Exploring SGX Attestation<a href="#exploring-sgx-attestation" class="hash-link" aria-label="Direct link to Exploring SGX Attestation" title="Direct link to Exploring SGX Attestation">â€‹</a></h2><p>Intel Software Guard Extensions (SGX) offer a secure execution environment
called an enclave, where sensitive code and data are protected from unauthorized
access or tampering. The attestation process verifies the enclave&#x27;s identity and
validates its code and data, ensuring authenticity and integrity.</p><p>The Switchboard Attestation Program uses SGX attestation to establish trust in
oracle applications, providing a robust mechanism for verifying secure code
execution within the Trusted Execution Environment (TEE).</p><p>Switchboard services utilize Gramine for the runtime environment. Gramine allows
SGX enclaves to operate as if they were running on a standard operating system,
managing system calls and other essential interactions.</p><h2 class="anchor anchorWithStickyNavbar_EGXn" id="crucial-components-in-the-attestation-process">Crucial Components in the Attestation Process<a href="#crucial-components-in-the-attestation-process" class="hash-link" aria-label="Direct link to Crucial Components in the Attestation Process" title="Direct link to Crucial Components in the Attestation Process">â€‹</a></h2><p>The Switchboard attestation process involves several components that work
together to facilitate attestation and verification of SGX enclaves:</p><ul><li><strong>ServiceQueueAccount</strong>: Manages the list of allowed enclave measurements
(MRENCLAVEs) and maintains a dedicated VerifierQueue to verify attestations.</li><li><strong>NodeAccount</strong>: Represents an individual SGX enclave, connects to the
ServiceQueueAccount, and has a 1:N relationship with QuoteAccount.</li><li><strong>PermissionAccount</strong>: An account between the <em>ServiceQueueAccount</em> and the
<em>NodeAccount</em> dictating whether the <em>NodeAccount</em> is permitted to perform
on-chain actions.</li><li><strong>QuoteAccount</strong>: Stores the attestation data (quote) generated by the SGX
enclave for a given NodeAccount.</li></ul><h2 class="anchor anchorWithStickyNavbar_EGXn" id="attestation-lifecycle">Attestation Lifecycle<a href="#attestation-lifecycle" class="hash-link" aria-label="Direct link to Attestation Lifecycle" title="Direct link to Attestation Lifecycle">â€‹</a></h2><p>The Switchboard Attestation Program follows a structured lifecycle to ensure the
secure and trustworthy execution of code within the TEE:</p><ol><li>Initialize the ServiceQueueAccount</li><li>Register permitted MRENCLAVE measurements</li><li>Create NodeAccount and PermissionAccount</li><li>Run an SGX Switchboard function, creates QuoteAccount from compiled binary</li><li>QuoteAccount emits a request to the VerifierQueue associated with the
ServiceQueue to verify its MRENCLAVE measurement</li><li>The VerifierQueue verifies the MRENCLAVE measurement on-chain (attestation)</li><li>The PermissionAccount associated with the NodeAccount has the permissions
enabled</li><li>Maintain an active and trustworthy SGX enclave through heartbeats</li></ol><p>By adhering to this lifecycle, the Switchboard Attestation Program ensures the
security, authenticity, and trustworthiness of SGX enclaves operating within the
TEE.</p><h2 class="anchor anchorWithStickyNavbar_EGXn" id="frequently-asked-questions">Frequently Asked Questions<a href="#frequently-asked-questions" class="hash-link" aria-label="Direct link to Frequently Asked Questions" title="Direct link to Frequently Asked Questions">â€‹</a></h2><p>Here, we address some common questions and provide in-depth explanations to help
you better understand the Switchboard Attestation Program and its role in
decentralized applications.</p><ol><li><a href="#faq-1">VerifierQueue&#x27;s role in the attestation process</a></li><li><a href="#faq-2">Managing MRENCLAVE measurements</a></li><li><a href="#faq-3">PermissionAccount and its role in access control</a></li><li><a href="#faq-4">Attestation data (quote) generation for QuoteAccount</a></li><li><a href="#faq-5">Switchboard Attestation Program as a special oracle</a></li><li><a href="#faq-6">Heartbeat mechanism and maintaining an active SGX enclave</a></li></ol><p>Please refer to the provided questions and answers to gain a deeper
understanding of the Switchboard Attestation Program and its inner workings.
This comprehensive guide aims to help you build secure and reliable
decentralized applications by leveraging the SGX technology and attestation
process.</p><h2 class="anchor anchorWithStickyNavbar_EGXn" id="frequently-asked-questions-1">Frequently Asked Questions<a href="#frequently-asked-questions-1" class="hash-link" aria-label="Direct link to Frequently Asked Questions" title="Direct link to Frequently Asked Questions">â€‹</a></h2><a name="faq-1"></a><h3 class="anchor anchorWithStickyNavbar_EGXn" id="role-of-verifierqueue-in-the-attestation-process">Role of VerifierQueue in the attestation process<a href="#role-of-verifierqueue-in-the-attestation-process" class="hash-link" aria-label="Direct link to Role of VerifierQueue in the attestation process" title="Direct link to Role of VerifierQueue in the attestation process">â€‹</a></h3><p>The VerifierQueue is a set of on-chain oracles that watch the chain for events
from QuoteAccounts to verify their MRENCLAVE measurements. When verified
on-chain, the associated PermissionAccounts&#x27; permission flags are enabled,
indicating they have permission to operate on the queue and be delegated work or
compute requests.</p><a name="faq-2"></a><h3 class="anchor anchorWithStickyNavbar_EGXn" id="adding-updating-and-removing-mrenclave-measurements">Adding, updating, and removing MRENCLAVE measurements<a href="#adding-updating-and-removing-mrenclave-measurements" class="hash-link" aria-label="Direct link to Adding, updating, and removing MRENCLAVE measurements" title="Direct link to Adding, updating, and removing MRENCLAVE measurements">â€‹</a></h3><p>The ServiceQueueAccount&#x27;s <code>authority</code> field is allowed to make changes to the
permitted enclave measurements. This could be a DAO-controlled account where
participants vote on new trusted code to operate on their program or dApp.</p><a name="faq-3"></a><h3 class="anchor anchorWithStickyNavbar_EGXn" id="understanding-permissionaccount-and-its-role-in-access-control">Understanding PermissionAccount and its role in access control<a href="#understanding-permissionaccount-and-its-role-in-access-control" class="hash-link" aria-label="Direct link to Understanding PermissionAccount and its role in access control" title="Direct link to Understanding PermissionAccount and its role in access control">â€‹</a></h3><p>The PermissionAccount is a program-derived address between a ServiceQueueAccount
and NodeAccount. When a NodeAccount attempts to operate on a
ServiceQueueAccount, the PermissionAccount is loaded and its settings are
verified against the ServiceQueueAccount settings.</p><a name="faq-4"></a><h3 class="anchor anchorWithStickyNavbar_EGXn" id="how-sgx-enclaves-generate-attestation-data-quote-for-quoteaccount">How SGX enclaves generate attestation data (quote) for QuoteAccount<a href="#how-sgx-enclaves-generate-attestation-data-quote-for-quoteaccount" class="hash-link" aria-label="Direct link to How SGX enclaves generate attestation data (quote) for QuoteAccount" title="Direct link to How SGX enclaves generate attestation data (quote) for QuoteAccount">â€‹</a></h3><p>The QuoteAccount keypair is generated during the initial execution of the code.
The quote is generated from the application binary running within the enclave.
The oracles use the Gramine runtime, which provides the abstraction to run the
application.</p><a name="faq-5"></a><h3 class="anchor anchorWithStickyNavbar_EGXn" id="switchboard-attestation-program-as-a-special-oracle">Switchboard Attestation Program as a special oracle<a href="#switchboard-attestation-program-as-a-special-oracle" class="hash-link" aria-label="Direct link to Switchboard Attestation Program as a special oracle" title="Direct link to Switchboard Attestation Program as a special oracle">â€‹</a></h3><p>The attestation oracles verify the signed measurement against the queue&#x27;s
accepted MRENCLAVEs and invoke an on-chain transaction, which performs the
account checks. If the measurement is invalid, the NodeAccount&#x27;s associated
PermissionAccount&#x27;s permissions are revoked, and the Node is blocked from
performing any access-controlled actions like heartbeating or being delegated
work.</p><a name="faq-6"></a><h3 class="anchor anchorWithStickyNavbar_EGXn" id="heartbeat-mechanism-and-maintaining-an-active-sgx-enclave">Heartbeat mechanism and maintaining an active SGX enclave<a href="#heartbeat-mechanism-and-maintaining-an-active-sgx-enclave" class="hash-link" aria-label="Direct link to Heartbeat mechanism and maintaining an active SGX enclave" title="Direct link to Heartbeat mechanism and maintaining an active SGX enclave">â€‹</a></h3><p>A NodeAccount is required to heartbeat before the
<code>service_queue.last_heartbeat</code>. If they do not, they are removed from the queue,
and their permissions are revoked, meaning they will not be assigned any future
work until they heartbeat again. A NodeAccount is also required to re-verify its
MRENCLAVE measurement before the <code>service_queue.max_quote_verification_age</code>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v3/tee"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TEE Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v3/services"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Switchboard Services</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Eunh thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-to-the-switchboard-attestation-program" class="table-of-contents__link toc-highlight">Introduction to the Switchboard Attestation Program</a></li><li><a href="#exploring-sgx-attestation" class="table-of-contents__link toc-highlight">Exploring SGX Attestation</a></li><li><a href="#crucial-components-in-the-attestation-process" class="table-of-contents__link toc-highlight">Crucial Components in the Attestation Process</a></li><li><a href="#attestation-lifecycle" class="table-of-contents__link toc-highlight">Attestation Lifecycle</a></li><li><a href="#frequently-asked-questions" class="table-of-contents__link toc-highlight">Frequently Asked Questions</a></li><li><a href="#frequently-asked-questions-1" class="table-of-contents__link toc-highlight">Frequently Asked Questions</a><ul><li><a href="#role-of-verifierqueue-in-the-attestation-process" class="table-of-contents__link toc-highlight">Role of VerifierQueue in the attestation process</a></li><li><a href="#adding-updating-and-removing-mrenclave-measurements" class="table-of-contents__link toc-highlight">Adding, updating, and removing MRENCLAVE measurements</a></li><li><a href="#understanding-permissionaccount-and-its-role-in-access-control" class="table-of-contents__link toc-highlight">Understanding PermissionAccount and its role in access control</a></li><li><a href="#how-sgx-enclaves-generate-attestation-data-quote-for-quoteaccount" class="table-of-contents__link toc-highlight">How SGX enclaves generate attestation data (quote) for QuoteAccount</a></li><li><a href="#switchboard-attestation-program-as-a-special-oracle" class="table-of-contents__link toc-highlight">Switchboard Attestation Program as a special oracle</a></li><li><a href="#heartbeat-mechanism-and-maintaining-an-active-sgx-enclave" class="table-of-contents__link toc-highlight">Heartbeat mechanism and maintaining an active SGX enclave</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.d718b995.js"></script>
<script src="/assets/js/main.fc2c13c9.js"></script>
</body>
</html>